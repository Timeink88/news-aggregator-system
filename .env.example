# =============================================================================
# 个性化新闻聚合与智能分析系统 - 环境变量配置
# =============================================================================

# =============================================================================
# 基础应用配置
# =============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost
APP_NAME=news-aggregator
APP_VERSION=1.0.0
DEBUG=true

# =============================================================================
# Supabase 数据库配置
# =============================================================================
# Supabase 项目 URL (必需)
SUPABASE_URL=https://your-project.supabase.co

# Supabase 匿名密钥 (必需)
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase 服务角色密钥 (可选，用于管理操作)
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# 存储限制配置
SUPABASE_MAX_STORAGE_MB=500
SUPABASE_STORAGE_WARNING_THRESHOLD=0.8
SUPABASE_STORAGE_CRITICAL_THRESHOLD=0.95

# 连接池配置
SUPABASE_POOL_MAX=10
SUPABASE_POOL_MIN=2
SUPABASE_POOL_IDLE_TIMEOUT=30000
SUPABASE_POOL_CONNECTION_TIMEOUT=30000

# 超时配置
SUPABASE_CONNECT_TIMEOUT=30000
SUPABASE_READ_TIMEOUT=30000
SUPABASE_WRITE_TIMEOUT=30000

# 重试配置
SUPABASE_MAX_RETRIES=3
SUPABASE_RETRY_DELAY=1000

# 缓存配置
SUPABASE_CACHE_ENABLED=true
SUPABASE_CACHE_TTL=3600
SUPABASE_CACHE_MAX_SIZE=1000

# =============================================================================
# AI服务配置
# =============================================================================
# AI服务的基础URL
AI_BASE_URL=https://api.openai.com/v1

# AI服务的API密钥
AI_API_KEY=your-ai-api-key-here

# 用于深度分析的AI模型（推荐：gpt-4-turbo）
AI_MODEL_DEEP=gpt-4-turbo

# 用于摘要生成的AI模型（推荐：gpt-3.5-turbo）
AI_MODEL_SUMMARY=gpt-3.5-turbo

# 用于情感分析的AI模型（推荐：claude-haiku）
AI_MODEL_SENTIMENT=claude-haiku

# AI 成本限制 (月度)
AI_MONTHLY_BUDGET=50.0
AI_WARNING_THRESHOLD=0.8
AI_CRITICAL_THRESHOLD=0.95

# =============================================================================
# Resend邮件服务配置
# =============================================================================
# Resend API密钥（从 https://resend.com 获取）
RESEND_API_KEY=your-resend-api-key-here

# 发送邮箱地址（需要在Resend验证域名）
RESEND_FROM_EMAIL=news@yourdomain.com

# 接收新闻的邮箱地址
RESEND_TO_EMAIL=your-qq@qq.com

# =============================================================================
# NewsAPI配置（可选）
# =============================================================================
# NewsAPI密钥（从 https://newsapi.org 获取）
NEWS_API_KEY=your-newsapi-key-here

# =============================================================================
# 调度配置
# =============================================================================
# 每日新闻摘要推送时间（24小时制）
DAILY_DIGEST_HOUR=8
DAILY_DIGEST_MINUTE=0

# 是否启用实时推送（true/false）
REALTIME_ENABLED=true

# 实时推送开始时间（小时）
REALTIME_START_HOUR=7

# 实时推送结束时间（小时）
REALTIME_END_HOUR=22

# 实时推送检查间隔（分钟）
REALTIME_INTERVAL=15

# =============================================================================
# 新闻处理配置
# =============================================================================
# 每个新闻源最大获取文章数
MAX_ARTICLES_PER_SOURCE=10

# 新闻摘要长度限制（字符数）
SUMMARY_LENGTH=200

# 缓存超时时间（毫秒）
CACHE_TIMEOUT=3600000

# =============================================================================
# 用户偏好配置
# =============================================================================
# 新闻类别权重（科技、财经、时政）
TECH_WEIGHT=0.4
FINANCE_WEIGHT=0.4
POLITICS_WEIGHT=0.2

# 关注关键词（逗号分隔）
INCLUDE_KEYWORDS=人工智能,股市,政策,科技,财经

# 排除关键词（逗号分隔）
EXCLUDE_KEYWORDS=娱乐,体育,游戏

# 情感倾向偏好（neutral, positive, negative, balanced）
SENTIMENT_PREFERENCE=balanced

# =============================================================================
# 系统配置
# =============================================================================
# 日志级别（debug, info, warn, error）
LOG_LEVEL=info

# 时区设置
TZ=Asia/Shanghai

# Node.js环境
NODE_ENV=production

# =============================================================================
# 数据库配置（可选，默认使用SQLite）
# =============================================================================
# 数据库类型（sqlite, postgres）
DB_TYPE=sqlite

# SQLite数据库路径
DB_PATH=./data/news.db

# PostgreSQL配置（如果使用PostgreSQL）
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=news_aggregator
POSTGRES_USER=newsuser
POSTGRES_PASSWORD=your-postgres-password

# =============================================================================
# Redis配置（可选，用于缓存）
# =============================================================================
# Redis主机地址
REDIS_HOST=localhost

# Redis端口
REDIS_PORT=6379

# Redis密码
REDIS_PASSWORD=

# Redis数据库编号
REDIS_DB=0

# =============================================================================
# 开发配置
# =============================================================================
# 是否启用调试模式
DEBUG=false

# 是否启用CORS（开发时）
ENABLE_CORS=false

# 服务器端口（用于健康检查）
PORT=3000

# =============================================================================
# 注意事项
# =============================================================================
# 1. 复制此文件为 .env 并填入实际配置值
# 2. 不要将 .env 文件提交到版本控制系统
# 3. 包含敏感信息的配置项请妥善保管
# 4. 修改配置后需要重启容器生效
# =============================================================================